<script type="module">
    import { PluginContext } from 'https://cdn.jsdelivr.net/npm/molstar@4.3.0/build/viewer/molstar.es.js';

    window.addEventListener('load', async () => {
        const viewer = new PluginContext();
        await viewer.load();

        // Initialize viewer
        const target = document.getElementById('app');
        viewer.create(target, { layoutIsExpanded: false });

        // Load and visualize structure
        const structure = await viewer.loadStructure('./protein.pdb');
        viewer.structureComponent.add(structure);
        viewer.representation.addRepresentation(structure, {
            type: 'cartoon',
            color: 'spectrum',
            colorParams: { value: 'bfactor' }  // Color by B-factor
        });
    });
</script>

